/*******************************************************
* Copyright (c) 2013 Rice University
*  This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
*  See LICENSE.txt for details.
*******************************************************/

/***************************************************
 * Styles used when generating a PDF from xhtml+css
 ***************************************************/

// Import general page headers/footers, bookmark calculation, etc
@import url('ccap-base.less');
@import url('ccap-numbering.less');
// Utilized to stop the reset of exercise numbering in eoc exercise questions
// For refactoring we must consider that there are differences in the books
// on how numbering for questions are rendered.
@import url('ccap-sociology-numbering.less');


// Define variables
@teal: #006666;
@cream: #FBF2E2; // For table backgrounds (from Physics)
@green: #8FB733; // For table backgrounds (from Physics)
@blue: #0061AA;  // For End-of-Chapter titles (from Physics)
@page { margin: 0.5in 1.5in; }


// Display the end-of-chapter solutions upside-down and gray
.chapter > .cnx-eoc.cnx-solutions {

  display: block; // Since they're disabled in ccap-physics
  color: gray;
  float: bottom;
  transform: rotate(180deg);
  -webkit-transform: rotate(180deg);

  // Hide the text "Solutions"
  > .title { display: none; }

  > .solution {

    display: inline;

    > a {
      color: gray;
      //font-weight: bold;
    }

    * {
      display: inline;
    }

    > div {
      margin: 0em 0.5em;

      &.title {
        border: 0em; // remove the underscore
      }
    }
  }

}

/******************************************************
 * Book Table of Contents
 ******************************************************/
.book > .toc {
  > .title {
    border-bottom-color: LimeGreen;
    font-weight: normal;
  }

  a { color: Purple; }

  //strip out 'Chapter' and # (both of these spans have the same class name)
  .toc-chapter .cnx-gentext-autogenerated { display: none; }

  .toc-section {
    margin-left: .25em;
    a { color: Purple; }
    .cnx-gentext-n { display: none; }   // strip out section numbers
  }
}

/***************************************************
 * CHAPTER INTRODUCTION
 ***************************************************/
.chapter  > .introduction {
  > .title {
    border-bottom: 1px solid LimeGreen;
    color: Purple;
    font-size: large;
  }

  > .toc {  //Key Concepts
    border: 1px solid LimeGreen;
    > .title {
      background-color: LimeGreen;
      color: black;
      margin-bottom: .25em;
    }

    .toc-section {
      .abstract, .cnx-gentext-autogenerated { display: inherit; } //display section-level abstract objectives and '.' after section #
      .cnx-gentext-t { margin-left: 0em; } //override from ccap-base
      .cnx-gentext-n::after { display: none; } //hide ':' after section #
    }
    > ul > li { margin: 0em; }
  }
}


/****** Preface ******/
.preface {
  > .titlepage {
    h1.title { background-color: Purple; }
  }
  > .section  {
    h2 {
      color: inherit;
      font-weight: normal;
    }
    ul > li { list-style-type: disc; }
  }
}


// Hide section level abstract (learning objectives)
.section > .titlepage .abstract { display: none; }


/****** Features ******/
// The args are title color, background color, and path to SVG
.sociological-research   { .x-feature(#330033, #ccccff, research); }
.sociology-real-world    { .x-feature(#006666, #ccffff, real-world); }
.sociology-big-picture   { .x-feature(#336600, #ccff99, big-picture); }
.sociology-careers       { .x-feature(#336633, #ccffcc, careers); }
.sociology-policy-debate { .x-feature(#993333, #ffcccc, policy-debate); }

.x-feature (@color, @bg-color, @svg) {
  &:before {
    padding-top: 0.75in; //0.75 + margin-top. 0.75in is from the SVG files
    background-repeat: no-repeat;
    background-position: top left;
    background-position: top outside;
    page-break-inside: avoid;
	 page-break-after: avoid;
	 background-color: white;
    content: "";
    display: block;
   // the following are tweaked so the overlays really do over lay
    margin-left: -1.05em;
    margin-right: -1.05em;
    margin-top: -0.03in;
  }
  .title {
	 color: @color;
    font-size: x-large;
  	 margin: .25em 0;
	     }

  background-color: @bg-color;
  &:before {
    background-image: url("ccap-sociology/@{svg}.svg");
  }
}

p {
  font-family: Liberation Serif, serif, STIXGeneral, STIXSizeOneSym, STIXSize1;
}

/* Customize EOC material */
.example > .title,
.exercise > .title,
.cnx-eoc > .title,
.index > .title,
.glossary > .titlepage {
  border-bottom: 1px solid LimeGreen;
  margin-bottom: 0.25em;
  font-weight: normal;
  color: @teal;
}
.example > .title > span,
.exercise > .title > span,
.cnx-eoc > .title > span,
.index > .title > h2,
.glossary > .titlepage > div > div > h2 {
  padding-left: 0em;
  padding-right: 0em;
  font-size: large;
  background-color: inherit;
  color: inherit;
  font-weight: normal;
}

.cnx-eoc .section .title a {
	color: @blue;
	}

.exercise > .title a {
  color: inherit;

}


/* Change "Glossary" to "Key Terms" */
.glossary .title {
  content: "Key Terms";
}

/* Add a title saying "Chapter Review" */
.glossary:before {
  content: "Chapter Review";
  display: block;
  color: Purple;
  font-size: x-large;
  font-weight: bold;
  padding-top: 1em;
  padding-bottom: 1em;
}


/* Indent margins on list items */
.cnx-eoc .problem .orderedlist li{
	margin-left: 2em;
}


body {
  font-size: 9.5pt;
}

img {
  max-width: 5in;
}

/* From ccap-physics.css */

h1.title {
  background-color: Purple;
  font-size: 5em;
  padding: 0em;
}
.book > * > .titlepage .cnx-gentext-t:before,
h1.title .cnx-gentext-n {
  color: LimeGreen;
  font-weight: bold;
  padding-left: 0.25em;
  padding-right: 0em;
}
h1.title {
  text-transform: none;
}
h2:before{
  color: inherit;
}
a {
	color: inherit;
	font-weight: normal;
}
.toc > li > ul a {
  color: #0061AA;
}
h2, h3 {
  margin: 0.5em 0em;
}
h2 {
  color: Purple;
  font-size: x-large;
}

.section > .table {
  //float: bottom;
}
.table table {
  background-color: @cream;
}
.table th {
  background-color: @green;
}

.table caption {
  color: Purple;
  font-weight: bold;
}

div.table-caption {
  color: black;
  font-weight: normal !important; //override from base
}
.table th {
  background-color: Purple;
}


.chapter h3 {
	color: @teal;
	font-size: large;
}
.section > .figure {
  //float: top;
  //float: snap;
}
.figure .title {
  display: inline;
	color: black;
	font-weight: bold;
	font-size: small;
}
.figure > .caption {
  display: inline;
}
.note > .title {
  border-bottom: 0px;
}

/* These are end-of-chapter collected solutions */
.solutions {
  display: block; // Since they're disabled in ccap-physics
  color: gray;
  float: bottom;
  transform: rotate(180deg);
  -webkit-transform: rotate(180deg);

  a {
    color: gray;
    //font-weight: bold;
  }

  & * {
    display: inline;
  }

  & > div {
    margin: 0em 0.5em;

    &.title {
      border: 0em; // remove the underscore
    }
  }
}

/************** Hide EOB solutions ***********/
div.colophon.end-of-book-solutions { display: none !important; }

//Hide EOB References
div.end-of-book-references { display: none; }
