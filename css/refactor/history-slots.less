#part {
  // Chapter outline
  #toc {
    .style(...) {
      border: none;
    }
    #title {
      .style(...) {
        text-align: left;
        background-color: initial;
        font: bold normal 11pt/1em @font-family-sans-serif;
        color: @dark-blue;
      }
    }
    #entry {
      #title { // "1.1"
        .style(...) {
          color: black;
        }
      }
    }
  }
  #chapter {
    #title {
      .style() {
        color: @red;
        border: none;
      }
      .text() {
        border: none;
	border-top-style: none;
        padding-left: 0;
        color: @dark-blue;
      }
      .label() {
        display: inline;
      }
    }
  }

  // End of chapter section slots
  // These sections #summary, #review-questions, and #critical-thinking
  // can be refactored to use new factory mixin later. Leaving for now.
  #chapter-end {
    .style(...) {}

    #summary {
      .style(...) {}
      #title {
        .style(...) {
          content: "Summary";
          color: @red; 
          font-size: 13pt;
          font-weight: bold;
          border: none;
        }
      }
    }
    #review-questions {
      .style(...) {}

      #title {
        .style(...) {
          color: @red; 
          font-size: 13pt;
          font-weight: bold;
          border: none;
        }
      }
    }
    #critical-thinking {
      .style(...) {}

      #title {
        .style(...) {
          color: @red; 
          font-size: 13pt;
          font-weight: bold;
          border: none;
        }
      }
    }
  }

  // End of Book Customizations
  #book-end {
    // End of Book solutions
    #end-of-book-solutions {
      .style(...) {
        column-count: 1;
      }
      #title {
        .style(...) {
          column-span: all;
          color: @red;
          font-size: 18pt;
          text-transform: none;
          border: none;
          margin-left: 0;
        }
      }
    }

    // End of book references
    #end-of-book-references {
      .style(...) {}

      .title(...) {
        color: @red;
        margin-left: 0;
        border: none;
      }
    }
    #index {
      .style(...) {}

      #title {
        .style(...) {
          color: @red;
          border: none;
          text-transform: none;
        }
      }
    }
  }
}

.x-history-feature(@left-color, @header-text) {
  border-left: 2.5em solid @left-color;

  &::before {
    background-color: @light-gray;
    border-bottom: 1px solid @orange;
    content: @header-text;
    text-transform: uppercase;
    width: 100%;
    padding: .5em 0 .5em 0; // Center text vertically
    display: block;
    text-align: center;
    font: normal bold 14pt/1em @font-family-sans-serif;
    color: @dark-blue;
  }

  > .body, > .title { 
    margin-right: 20px;
    padding: 5px 0 0 20px;
  }
  > .title {
    font: italic bold 14pt/17pt @font-family-serif;
  }
  > .body, > .body p {
    font: normal normal 9pt/12pt @font-family-sans-serif;
  }
}

#content {
  #note {
    .style(...) {
      padding: 0;
    }
    .style(my-story; ...) {
      .x-history-feature(@dark-blue, @cnx-string-my-story);
    }
    .style(defining-american; ...) {
      .x-history-feature(@orange, @cnx-string-defining-american);
    }
    .style(americana; ...) {
      .x-history-feature(@red, @cnx-string-americana);
    }
    .style(click-and-explore; ...) {
      #utils>#pb>.inside(avoid);
      background-color: @yellow-35;

      > .body {
        padding: 20px 0 20px 20px;
      }

      > .body, > .body p {
        font: normal normal 9pt/12pt @font-family-sans-serif;
      }

      &::before {
        display: block;
        height: 30px;
        padding-top: 1.8em;
        content: @cnx-string-click-and-explore;
        background-image: linear-gradient(
          to bottom,
          @yellow-35 0%,

          @yellow-35 40%,
          @orange 40%,

          @orange 44%,
          @dark-blue 44%,

          @dark-blue 96%,
          @orange 96%          
        );
        color: @yellow-50;
        text-align: center;
        font: bold normal 16pt/1em @font-family-serif;
      }



      //clearfix
      > .body::after {
        content: "";
        display: table;
        clear: both;  
      }
      .mediaobject {
        float: left;
        width: @qr;
        margin-right: 1em;
        img {
          margin: 0;
          width: @qr;
          height: @qr;
        }
      }
    }
    #title {
      .style(non-feature) {
        border: none;
      }
    }
  }
  #glossary {
   .style(@scope; default) {}
   
    #title {
      .style(...) {
        color: @red;
        font-size: 13pt;
        text-transform: none;
      }
    }
  }
  #blockquote {
    .style(...) {
      color: black;
      font-size: inherit;
      margin-top: inherit;
      margin-bottom: inherit;

      // Remove quotes
      &::before, &::after {
        content: "";
      }
    }
  }
  #heading{
    .style(...) {}

    // W&N wishes capitalize/no-capitalize h2/h3 in markup
    .style(h2, ...) {
      color: @dark-blue;
      font-size: 11pt;
      text-transform: none;
    }
    .style(h3, ...) {
      color: @dark-blue;
      font-size: 11pt;
      text-transform: none;
    }
  }
}




