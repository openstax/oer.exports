// Copyright (c) 2013 Rice University
// This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
// See LICENSE.txt for details.

.build-content-for(@scope) {
  @context: default;

  .note {
    #content>#note>.style(@scope; @context);
  }
  .footnote {
    #content>#footnote>.style(@scope; @context);
  }
  .section {
    #content>#section>.style(@scope; @context);
  }
  .example { 
    @context: example;

    #content>#example>.style(@scope; default);
    > .title { #content>#example>.title(); }
    > .body { #content>#example>.body(); }

    .exercise {
      #content>#exercise>.style(@scope; @context);
    }
  }
  .exercise {
    @context: exercise;

    #content>#exercise>.style(@scope; default);
    > .body > .problem { #content>#problem>.style(@scope; @context); }
    > .body > .solution { #content>#solution>.style(@scope; @context); }
  }
  .equation {
    #content>#equation>.style(@scope; @context);
  }
  .figure {
    #content>#figure>.style(@scope; @context);
  }
  .table {
    #content>#table>.style(@scope; @context);
  }
  .glossary {
    @context: glossary;

    #content>#glossary>.style(@scope; default);
    .titlepage h2 { #content>#glossary>.title(); }
    dl {
      #content>#description-list>.style(@scope; @context);
      dt { #content>#description-list>.term(); }
      dd { #content>#description-list>.description(); }
    }
  }
}

.introduction { .build-content-for(introduction); }
.chapter { .build-content-for(chapter); }
.cnx-eoc { .build-content-for(cnx-eoc); }
.colophon { .build-content-for(colophon); }