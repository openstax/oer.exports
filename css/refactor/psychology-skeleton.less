/******************************************************
 * Custom psychology elements
 *
 * Most of the customizations are
 * `.note` elements with specific classes to create
 * the different styles of Feature elements:
 *
 * Everyday Connection, Dig Deeper, Link to Learning,
 * Connect the Concepts
 *
 ******************************************************/
.chapter .note {
  #content>#note>.style();

  > .title {
    #content>#note>#title>.style();
  }

  &.everyday-connection {
    #content>#note>.style(everyday-connection);
  }
  &.dig-deeper {
    #content>#note>.style(dig-deeper);
  }
  &.what-do-you-think {
    #content>#note>.style(what-do-you-think);
  }
  &.connect-the-concepts {
    #content>#note>.style(connect-the-concepts);
  }
  &.link-to-learning {
    #content>#note>.style(link-to-learning);

    > .body {
      padding: 0px 10px;
    }
  }

  .body > .title {
    padding: 0px 0px 10px 0px;
  }

  .figure {
    padding-bottom: 0;
    padding-top: 15px;
  }
}


// Chapter titles
h1.title {
  #part>#chapter>#title>.style();
}
.chapter h1.title {
  .cnx-gentext-autogenerated {
    #part>#chapter>#title>.number();
  }
  .cnx-gentext-t {
    #part>#chapter>#title>.text();
  }
}



/******************************************************
 * Tables
 ******************************************************/
.table table {
  #content>#table>.style();

  > caption {
    #content>#table>.caption();

    .table-caption.caption {
      padding-left: 5px;
    }
  }

  > caption, td {
    #content>#table>.cell();
  }
}

/********************************************************************
 * End of chapter customizations
 ********************************************************************/

.cnx-eoc {
  &.summary {
    #part>#chapter-end>#summary>.style();
    > .title { #part>#chapter-end>#summary>.title(); }

    p:nth-of-type(1) {  margin-top:0; }
    > div.section:nth-of-type(3) .title {
      padding-top: 0; // nth-of-type here is strange, but there is no nth-of-class, etc.
                      // The first div is a title, and the second is ".section .empty".
    }
  }

  &.review-questions {
    #part>#chapter-end>#review-questions>.style();
    > .title { #part>#chapter-end>#review-questions>#title>.style(); }
    p { 
      text-align: left; //W&N does not want Review Questions justified.
    }
  }

  &.critical-thinking {
    #part>#chapter-end>#critical-thinking>.style();
    > .title { #part>#chapter-end>#critical-thinking>#title>.style(); }
    .section > .body > .exercise {
      margin-bottom: 1em;
    }
  }

  &.personal-application {
    #part>#chapter-end>#personal-application>.style();
    > .title { #part>#chapter-end>#personal-application>#title>.style(); }
    .section > .body > .exercise {
      margin-bottom: 1em;
    }
  }
}

// Turn off section numbering and title for eoc collations
.review-questions, .critical-thinking, .personal-application {
  > .section > .title { display: none; }
}

// Override must be applied from PreCalculus to view headers
.summary {
  > .section > .title { display: block; }
}

/* Squash references and solutions if they show up at the end of 
   a chapter. They are special-cased and show up at the end of the book */
.cnx-eoc.references,
.cnx-eoc.cnx-solutions, { 
  display: none; 
}



/******************************************************
 * End-of-Book Index
 ******************************************************/

.index {
  .title,
  .title h2 {
    #part>#book-end>#index>#title>.style();
  }
  .letter {
    #part>#book-end>#index>.letter();
  }
  h3 {
    #part>#book-end>#index>.style();
  }
}



