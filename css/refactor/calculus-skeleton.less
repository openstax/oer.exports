// Copyright (c) 2014 Rice University
// This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
// See LICENSE.txt for details.



// This lengthy selector is required to override a display:none.
div.book div.chapter > div.section div.example div.exercise .solution {
.figure .body {
      text-align: center;
    }
}
div.book div.chapter > div.section div.example div.exercise .problem {
  .figure .body {
      text-align: center;
    }
}
 
div.book div.chapter > div.section div.example div.exercise .commentary {
   .figure .body {
      text-align: center;
    }
}
div.book div.chapter div.section div.theorem:not(.labeled) {
  counter-increment: theorem;
  > .title > span:before {
    content: "Theorem " counter(chapter) "." counter(theorem) ": ";
  }
}  

div.book div.chapter .checkpoint:not(.labeled) {
counter-increment: checkpoint;
} 
div.book div.chapter .checkpoint > .title:not(.labeled)::before {
  content: "" "" counter(chapter, decimal) "." counter(checkpoint) " " ""
}

//New Checkpoint and Problem Solving notes feature for Calculus
.note {
  &.theorem {
    #content>#note>.style(non-feature);
  > .title { #content>#note>#title>.style(non-feature); }
  }
  &.project {
     @context: student-project;
    #content>#note>.style(@context);

    > .title { #content>#note>#title>.style(@kind; @part; @context); }
  }
  &.checkpoint {
    @context: feature-try;
    #content>#note>.style(checkpoint);
    div.itemizedlist, div.orderedlist {
      ul, ol {
        #content>#list>.style(any; try-it);
      }
   }
    > .title {
      #content>#note>#title>.style(@kind; @part; @context);
    }

    .exercise {
      #content>#exercise>.style(@kind; @part; @context);
      > .title { #content>#exercise>#title>.style(@kind; @part; @context); }

      .problem {
        #content>#problem>.style(@kind; @part; @context; exercise);
      }
      .solution {
        #content>#solution>.style(@kind; @part; @context; exercise);
      }
    }
  }
  &.media-2 {
    @context: feature-media;
     #content>#note>.style(media; calculus);
     
     .itemizedlist > .listitem {
      #content>#list>.item(@kind, @part, @context);
    }

    // Supress the extra url generated from base that is wrapped with parentheses
    .itemizedlist > .listitem .link.only-show-once {
      content: content();
    }
  }
  &.definition {
     @context: definition;
     #content>#note>.style(non-feature);
    > .title { #content>#note>#title>.style(non-feature); }
    > .title:before { #content>#note>#title>.style(@kind; @part; @context); }
    > .title span {display:none;}

  }
  &.problem-solving {
    #content>#note>.style(non-feature);
    #content>#note>.style(non-feature-problem-solving);
    > .title { #content>#note>#title>.style(non-feature); }
    }
}
