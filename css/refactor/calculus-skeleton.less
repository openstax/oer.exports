// Copyright (c) 2014 Rice University
// This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
// See LICENSE.txt for details.


/* ---------------------------------------------------
 * Figures/Subfigures
 * ---------------------------------------------------
 */

// Override figure width from PreCalculus assets @150 dpi
@figure-width-medium: auto;  // Width of 3/4 size art
@figure-width-small:  auto;  // Width of 1/2 size art

// This lengthy selector is required to override a display:none.
div.book div.chapter > div.section div.example div.exercise .solution {
.figure .body {
      text-align: center;
    }
}
div.book div.chapter > div.section div.example div.exercise .problem {
  .figure .body {
      text-align: center;
    }
}
 
div.book div.chapter > div.section div.example div.exercise .commentary {
   .figure .body {
      text-align: center;
    }
}
div.book div.chapter {
  counter-reset: theorem;
  div.section div.theorem:not(.labeled) {
    counter-increment: theorem;
    > .title > span:before {
      content: "Theorem " counter(chapter) "." counter(theorem) ": ";
    }
  }  
}
//New Checkpoint and Problem Solving notes feature for Calculus
.note {
  &.theorem {
    #content>#note>.style(non-feature);
  > .title { #content>#note>#title>.style(non-feature); }
  }
  &.project {
     @context: student-project;
    #content>#note>.style(@context);

    > .title { #content>#note>#title>.style(@kind; @part; @context); }
  }
  &.checkpoint.calculus {
    @context: feature-try;
    #content>#note>.style(checkpoint);
    div.itemizedlist, div.orderedlist {
      ul, ol {
        #content>#list>.style(any; try-it);
      }
   }
    > .title {
      #content>#note>#title>.style(@kind; @part; @context);
    }

    .exercise {
      #content>#exercise>.style(@kind; @part; @context);
      > .title { #content>#exercise>#title>.style(@kind; @part; @context); }

      .problem {
        #content>#problem>.style(@kind; @part; @context; exercise);
      }
      .solution {
        #content>#solution>.style(@kind; @part; @context; exercise);
      }
    }
  }
  &.media.calculus {
     #content>#note>.style(media; calculus);
  }
  &.definition {
     @context: definition;
     #content>#note>.style(non-feature);
    > .title { #content>#note>#title>.style(non-feature); }
    > .title:before { #content>#note>#title>.style(@kind; @part; @context); }
    > .title span {display:none;}

  }
  &.problem-solving {
    #content>#note>.style(non-feature);
    #content>#note>.style(non-feature-problem-solving);
    > .title { #content>#note>#title>.style(non-feature); }
    }
}
