// Copyright (c) 2013 Rice University
// This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
// See LICENSE.txt for details.

@page {
  #page>.style();

  // Less complains about @footnotes{...} so use value escaping to inject it into the CSS
  @footnotes: ~"@footnotes";
  @{footnotes} {
    #page>.footnotes();
  }
}

// LessCSS does not support `@page { &:left {...}}` as a nested selector
@page:left {
  @top-left-corner { #page>.top-left-corner(left); }
  @top-right-corner { #page>.top-right-corner(left); }
  @bottom-left-corner { #page>.bottom-left-corner(left); }
  @bottom-right-corner { #page>.bottom-right-corner(left); }
  @top-left { #page>.top-left(left); }
  @top-center { #page>.top-center(left); }
  @top-right { #page>.top-right(left); }
  @bottom-left { #page>.bottom-left(left); }
  @bottom-center { #page>.bottom-center(left); }
  @bottom-right { #page>.bottom-right(left); }
  @left-top { #page>.left-top(left); }
  @left-middle { #page>.left-middle(left); }
  @left-bottom { #page>.left-bottom(left); }
  @right-top { #page>.right-top(left); }
  @right-middle { #page>.right-middle(left); }
  @right-bottom { #page>.right-bottom(left); }
}

@page:right {
  @top-left-corner { #page>.top-left-corner(right); }
  @top-right-corner { #page>.top-right-corner(right); }
  @bottom-left-corner { #page>.bottom-left-corner(right); }
  @bottom-right-corner { #page>.bottom-right-corner(right); }
  @top-left { #page>.top-left(right); }
  @top-center { #page>.top-center(right); }
  @top-right { #page>.top-right(right); }
  @bottom-left { #page>.bottom-left(right); }
  @bottom-center { #page>.bottom-center(right); }
  @bottom-right { #page>.bottom-right(right); }
  @left-top { #page>.left-top(right); }
  @left-middle { #page>.left-middle(right); }
  @left-bottom { #page>.left-bottom(right); }
  @right-top { #page>.right-top(right); }
  @right-middle { #page>.right-middle(right); }
  @right-bottom { #page>.right-bottom(right); }
}



//hiding page numbers on TOC
div.book > div.toc {
  #page>#toc>.page();
}

@page table-of-contents {
  @top-left-corner {
    #page>.top-left-corner(toc);
    }
  @top-left {
    #page>.top-left(toc);
    }
  @top-right-corner {
    #page>.top-right-corner(toc);
  }
  @top-right {
  #page>.top-left(toc);
  }
}
@page preface:blank {
  @top-left { content: none; }
}
@page chapter:nth(1) {
  @top-left-corner { #page>.top-left-corner(chapter); }
  @top-right-corner { #page>.top-right-corner(chapter); }
  @top-left { #page>.top-left(chapter); }
  @top-center { #page>.top-center(chapter); }
  @top-right { #page>.top-right(chapter); }
}
//reseting page numbering to start at the preface
div.book > div.preface {
  #page>#preface>.page();
}
@page preface:right {
  @top-right {
    #page>.top-right(preface; right);
  }
}

