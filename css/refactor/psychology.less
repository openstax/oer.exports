/*******************************************************
* Copyright (c) 2013 Rice University
*  This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
*  See LICENSE.txt for details.
*******************************************************/

@import url('utils.less');
@import url('css3.less');
@import url('ccap-base-slots.less');
@import url('content-slots.less');
@import url('precalculus-slots.less');
@import url('psychology-slots.less');

// A mixture of serif and sans-serif fonts.x
@font-family-sans-serif: Liberation Sans, sans-serif, @stix-fonts;
@font-family-serif: URW Palladio L, URWPalladioL, serif, @stix-fonts;

@book-title: psychology;

// color palette needed from precalculus
@medium-blue:   #528CBE;
@light-orange:  #EFD8B0;

// color palette for psychology
@orange:        #EEAD58;
@light-blue:    #007196;
@dark-blue:     #25408F;
@teal:          #3F989B;
@red:           #B8292F;
@shadow:        #888888;

@white:         #FFF;
@black:         #000;

// Fixed widths
@qr: 1.25in;
@figure-size-one: 225px;
@page-width: 6.5in;

@table-border: 1pt solid @black;

// Static strings
@cnx-string-everyday-connection: "everyday connection";
@cnx-string-dig-deeper: "dig deeper";
@cnx-string-what-do-you-think: "what do you think?";
@cnx-string-connect-the-concepts: "connect the concepts";
@cnx-string-link-to-learning: "link to learning";
@cnx-string-summary: "Summary";
@cnx-string-review-questions: "Review Questions";
@cnx-string-critical-thinking-questions: "Critical Thinking Questions";
@cnx-string-personal-application-questions: "Personal Application Questions";

// Psychology specific fixes
body {
  ol, 
  ul,
  div.orderedlist,
  ol.orderedlist { margin-left: 0; }
  li,
  .listitem,
  div:not(.body) > div.itemizedlist > ul.itemizedlist > li.listitem { padding-top: 0; }
}

.module > .section > div.orderedlist > ol.orderedlist,
.module > .section > div.itemizedlist > ul.itemizedlist {
  padding-left: 40px;
}







/******************************************************
 * Chapter Introduction
 ******************************************************/


.module:not(.introduction) > .section {
  padding-top: 1.2em;
}
.module:not(.introduction) > .section > .section {
  padding-top: 1.5em;
}









/******************************************************
 *  Styling for Chapter Titles
 ******************************************************/

.chapter > .module {
  margin: 1em 0;
}

// Reset (ccap-precalculus.less)
div.book div.chapter > div.titlepage > div > div h1.title {
  width: 100%;
  margin: 0; 
  padding: 0;

  // string-set and display: none are used to get rid of the "."
  // in the chapter titles, since the class "...-autogenerated" is
  // used for both the string "chapter" and the ".".
  span.cnx-gentext-autogenerated {
    display: none;
  }
  span.cnx-gentext-autogenerated:first-of-type {
    string-set: cnx-chapter-string content();
  }
  span.cnx-gentext-n {
    margin: 0;
    padding: 0;
    string-set: cnx-chapter-number-string string(cnx-chapter-string) " " content();
    content: string(cnx-chapter-number-string);
  }

  span.cnx-gentext-t {
    display: block;
    padding-left: 0;
    border-top-width: 1px;
    border-top-style: solid;

    // Spacing around border.
    margin-top: 10px;

    // Replace the default page header "Chapter number | Title", removing
    // the "|"
    string-set: cnx-header string(cnx-chapter-number-string) " " content();
  }
}

h1.title {
  text-transform: none;
  font-size: 18pt;
  font-weight: 700;
  text-align: left;
}


.chapter h1.title {
  // Must use font-size at this level of cascade to override precalc setting (35pt)
  font-size: 18pt;
  .cnx-gentext-autogenerated,
  .cnx-gentext-n {
    font-size: 18pt;
    font-weight: 700;
  }
  .cnx-gentext-t {
    font: 28pt/33pt @font-family-serif;
  }
}

.chapter h2, 
.chapter h2::before {
  font-size: 14pt;
  line-height: 17pt;
  font-weight: 700;
}

// Section titles
.chapter h2 {
    border-bottom-color: @orange;
}
.chapter h2, .chapter h2::before {
    color: @red;
}

div.book div.chapter div.titlepage > div > div > h2 {
  border-bottom-width: 1px;
  border-bottom-style: solid;
  margin: 0;
  padding: 0.2em 0em;
  display: block; // This overrides a display: inline from ccap-base.

  span.cnx-gentext-t {

    &::before {
      content: "";
    }
  }
}

div.book div.chapter div.titlepage > div > div > h2.title {
  margin-bottom: 1em;
}

// Nested section titles are sans-serif, outer sections 
// are uppercase. 
.section h3, .section h4 {
  font: 700 normal normal 11pt/13pt @font-family-sans-serif;
}
.section h3 {
  text-transform: uppercase;
}













/******************************************************
 * Learning Objectives/Chapter Objectives
 ******************************************************/
div.section div.titlepage div.abstract::before {
  font: normal normal 700 10pt @font-family-sans-serif;
  text-align: left;
  margin: .75em 0 .5em;
  color: @light-blue;
}

div.section div.titlepage div.abstract {
  margin: 0 0 1.5em;
  // These have to be individually set otherwise
  // a color would have to be specified here.
  border-top-width: 0;
  border-left-width: 0;
  border-right-width: 0;


  p {
    font: 10pt/14pt @font-family-serif;
    margin: 0;
  }
}


div.section div.titlepage div.abstract,
div.section div.titlepage div.abstract::before,
.note.chapter-objectives {
  background-color: transparent;
  border-bottom-color: @orange;
}


.note.chapter-objectives {
  font: 10pt/14pt @font-family-serif;

  .title {
    font: normal normal 700 10pt @font-family-sans-serif;
  }
}

div.section div.titlepage div.abstract,
.note.chapter-objectives {
  text-align: left; // This was added due to the text alignment 
                    // being reported as a bug several times. I 
                    // do not notice alignment problems, but I 
                    // added this just to be certain what was being
                    // inherited.
  padding-left: 0;

  margin-top: 0em;
  padding-top: 0;

  border-bottom-width: 1px;
  border-bottom-style: solid;

  > .title {
    border: none;
    margin-top: 0;
  }

  ul.itemizedlist {
    margin-left: 0;
    padding-left: 20pt;

    > .listitem {
      display: list-item;
      padding-top: 0;
      margin: 0;

      p {
        display: block;
        margin: 0;
      }

      &::before {
        display: none;
      }
      &:last-child {
        padding-bottom: .75em;
      }
    }
  }
}











/* ---------------------------------------------------
 * End of Book Solutions
 * ---------------------------------------------------
 */

div.end-of-book-solutions div.solution > div.title a.solution,
div.end-of-book-solutions .chapter-area a.chapter * {
  font: normal normal 700 10pt/13pt @font-family-serif;
}
div.end-of-book-solutions div.solution > div.body {
  font: normal normal 400 10pt/13pt @font-family-serif;
}












/* ---------------------------------------------------
 * End of Book References
 * ---------------------------------------------------
 */

// EOB References chapter titles
div.end-of-book-references > .chapter-area > .title {
  font: normal normal 700 10pt/13pt @font-family-serif;
  color: @black;
}

div.end-of-book-references > .chapter-area > .body {
  font: normal normal 400 10pt/13pt @font-family-serif;
}












/********************************************************************
 * Generic Elements
 ********************************************************************/

// Section titles
h2, h3, h4, h5, h6 {
  color: @black;
}

//  The majority of section text is serif.
p {
  hyphens: auto;
  text-align: justify;
}
p,
.section > p {
  font: 10pt/13pt @font-family-serif;
}













/******************************************************
 * Figures
 ******************************************************/

.figure .body {
  padding: 15px 0px;
}

// Chapter splash figures
div.figure.splash {
  padding-bottom: 1.5em;

  .body {
    padding-top: 0;
    padding-bottom: 0;
  }
}

.figure > .title {
  color: @red;
}









/******************************************************
 * Tables
 ******************************************************/

// Tables
.table table,
.table table td {
  border-color: @orange !important; // td's have inline style=""
}

.table table .table-caption.caption {
  color: @red;
}

.table table > caption {
  color: @black;
  border-color: @orange;
}

.colophon > table {
  font: 400 normal normal 10pt/13pt @font-family-serif;
}

// tables
.table table .table-caption.caption {
  font-size: 10pt;
  font-weight: 700 !important; // Override previously used important. 
  line-height: 13pt;
}
.table table td {
  font: 10pt/14pt @font-family-serif;
}













/******************************************************
 * Lists
 ******************************************************/
div:not(.body) > .itemizedlist > .itemizedlist > .listitem {
  padding-top: 10px;

  &:last-child {
    padding-bottom: 10px;
  }
}

.orderedlist {
  margin-left: 2em;
}










/******************************************************
 * Key Terms / Glossary
 ******************************************************/

.glossary {
  dl {
    margin: 1em 0;
  }
  dd {
    margin-left: 0px;
  }
  dt {
    // prevent container from allowing meaning to wrap appropriately
    height: 15px;
  }
}

.glossary .title {
  color: @red;
  border-bottom-color: @orange;
  border-bottom-width: 1px;
  border-bottom-style: solid;
  font-size: 12pt;
  font-weight: 700;
  text-transform: none;
}

.glossary .title::before {
  display: none !important; // !important is used here befcause !important was used in
                            // ccap-precalculus.less.
}

.glossterm.no-emphasis {
  font-weight: 400;
}

.glossary .glossterm {
  font: normal normal 700 10pt/13pt @font-family-serif;
}










/******************************************************
 * Folio Customizations
 ******************************************************/

// Make page numbers and header texts display on opposite
// sides of the page.
@page :left {
  @top-left {
    content: "";
  }
  @top-right {
    content: string(cnx-header);
    text-transform: capitalize;
  }
}

@page :right {
  @top-right {
    content: "";
  }
  @top-left {
    content: string(cnx-header);
    text-transform: capitalize;
  }
}










// Images in Psychology are 150DPI
html {
  prince-image-resolution: 150dpi;
}

@import url('ccap-base-skeleton.less');
@import url('content-skeleton.less');
@import url('precalculus-skeleton.less');
@import url('psychology-skeleton.less');

@import url('../ccap-numbering.less');
//@import url('../ccap-precalculus-numbering.less');
