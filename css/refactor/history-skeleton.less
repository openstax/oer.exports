// Copyright (c) 2013 Rice University
// This software is subject to the provisions of the GNU AFFERO GENERAL PUBLIC LICENSE Version 3.0 (AGPL).
// See LICENSE.txt for details.

.chapter .note {
  &.my-story {
    #content>#note>.style('my-story'; chapter);
  }
  &.defining-american  {
    #content>#note>.style('defining-american'; chapter);
  }
  &.americana {
    #content>#note>.style('americana'; chapter);
  }
  &.click-and-explore {
    #content>#note>.style('click-and-explore'; chapter);
    > .title {
      #content>#note>#title>.style('click-and-explore'; chapter);
    }
    > .body {
       #content>#note>#body>.style('click-and-explore'; chapter);
      }
  }
}


.section.module > .titlepage .abstract ul.itemizedlist > .listitem:last-child {
  #content>#list>.style(any; any; learning-objectives);
}
// History end of chapter skeleton parts
.cnx-eoc {
  // For history summary it is wished for sections to be displayed
  &.summary {
    > .title, > .title span {
      #part>#chapter-end>#summary>#title>.style();
    }
    > .section .title {
      #part>#chapter-end>#summary>#title>.subtitle();
    }

    > .section:not(.empty) {
      #content>#section>.style(any; chapter-end; summary);
    }

  }
  &.review-questions {
    > .title, > .title span {
      #part>#chapter-end>#review-questions>#title>.style();
    }
  }
  &.critical-thinking {
    > .title, > .title span {
      #part>#chapter-end>#critical-thinking>#title>.style();
    }
  }
}

div.end-of-book-solutions {
  > h1.title {
    #part>#book-end>#end-of-book-solutions>#title>.style(any; any);
  }
}

.index {
  > .title h2 {
    #part>#book-end>#index>#title>.style();
  }
  .index-term a {
    #part>#book-end>#index>.link();
  }
}

// Style figures and captions
.figure {
  > .title {
    #content>#figure>#title>.style();
  }
  > .caption {
    #content>#figure>.caption();
  }
  &.timeline {
    #content>#figure>.style('timeline'; any);
  }
}

div.book div.chapter div.titlepage > div > div > h2.title {
  #part>.title(chapter);
}

.preface .section > .table,
.preface .section > .table table {
  #content>#table>.style(any; preface);
}

div.colophon.end-of-book-solutions {
  div.solution {
    &:nth-child(even) {
      display: none;
    }
  }
}
