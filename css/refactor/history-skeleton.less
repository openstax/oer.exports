.chapter .note {
  &.my-story {
    #content>#note>.style(my-story);
  }
  &.defining-american  {
    #content>#note>.style(defining-american);
  }
  &.americana {
    #content>#note>.style(americana);
  }
  &.click-and-explore {
    #content>#note>.style(click-and-explore);
  }
}

// History end of chapter skeleton parts
.cnx-eoc {
  // For history summary it is wished for sections to be displayed
  &.summary {
    > .section .title {
      display: block;
      padding-bottom: 0;
    }

    p:nth-of-type(1) {  margin-top: 0; }
  }
  &.review-questions {
    .title > span { // refactor this. discuss this change.
      padding-left: 0;
    }
  }
}

// Style figures and captions
.figure {
  > .title {
    #content>#figure>#title>.style();
  }
  > .caption {
    #content>#figure>.caption();
  }
  /* The timeline figure will appear in first module after
   introduction and must snap to the bottom of page. 
   Coded to function this way:
 
   1. If there is right amount of content on page 1, and figure
   will fit it will snap to bottom of page as designed.

   2. If there is too much content timeline will snap to the
   bottom of the next page.  Working with footnote as well.

   We cannot use display:block; here, because using any type
   of float causes an inline element to render as a block (inline-block).
   This simple rule below gets us where we need to be.
  */
  &.timeline {  
    #content>#figure>.timeline();
  }
}

// Not sure how this can be made into skeleton/slot
.colophon > h1.title { 
  background: none;
}

div.end-of-book-solutions {
  > h1.title {
    #part>#book-end>#end-of-book-solutions>#title>.style();
  }
}

div.end-of-book-references {
  #part>#book-end>#end-of-book-references>.style();
}

.index {
  > .title h2 {
    #part>#book-end>#index>#title>.style();
  }
  .index-term a { 
    #part>#book-end>#index>.link();
  }
}

// We most likely do not need to target these in a skeleton
// change but through @part somehow. There's lots of different
// permutations: .chapter h1.title, .section h3.title, etc. etc.
.section h3 {
  #content>#heading>.style(h3;);
}
.section h4 {
  #content>#heading>.style();
}

div.book div.chapter div.titlepage > div > div > h2.title {
  #content>#heading>.style(h2;);
}

// Turn off underlines for Introduction header. For these two selectors
// by the end of psychology refactor, we may be able to remove both these.
// For now I am just pointing these specific pieces of styling to #heading.style()
// which border: none was added to take care of both these for the time being.
.chapter > .introduction > h3.title,
div.book div.chapter div.titlepage > div > div > h2.title,
div.book div.chapter div.titlepage > div > div > h2 {
  #content>#heading>.style();
}












/***************************************
  Stacey's Corner - clean up into slots
****************************************/


// Tables used in Preface must continue to have no background
.preface .section > .table, 
.preface .section > .table table { 
  #part>#preface>#table>.style();
}

// remove full justification for learning objectives. Be specific as possible
// to avoid disturbing bookwide paragraphs
div.section div.titlepage div.abstract {
  ul.itemizedlist .listitem p {
    text-align: left;
  }
}

// Reset (ccap-precalculus.less). Get rid of such specific selectors!
body div.book div.chapter > div.titlepage > div > div > h1.title {
  span.cnx-gentext-t {
    // Replace the default page header "Chapter number | Title", removing
    // the "|"
    string-set: cnx-header string(cnx-chapter-number-string) " " content();
    padding-left: 0;
  }
}


