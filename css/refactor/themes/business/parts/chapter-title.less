/* -------------------------
 * Chapter title (over the splash page)
 * ------------------------
 */
div.chapter {
  > div.titlepage {
    //#part>#chapter>#titlepage>.style();
    height: 100%;
    margin-top: 0;
    z-index: 1;
    position: relative;
    z-index: 1;

    div div > h1.title {
      // string-set: cnx-header "@{cnx-string-chapter} " counter(chapter, decimal)  "\0020\0020\0020" content();
      //#part>#chapter>#title>.style();
      .font-scale(3);
      padding: 0;
      position: absolute;
      top: 0;
      left: 0;
      right: 0;
      width: @full-bleed-width;
      height: 3.5in; //TODO
      color: @chapter-title-color;
      white-space: nowrap;
      font-weight: normal;
      font-family: @font-family-titles;
      text-transform: none;
      margin: -0.125in 0 0;

      &::before {
        //#part>#chapter>#title>.number();
        content: counter(chapter);
        font-family: @font-family-titles;
        .font-scale(2);
        font-weight: bold;
        top: auto;
        left: 0;
        bottom: 52px;
        background-color: @chapter-number-bg-color;
        border-radius: 50%;
        min-width: 0;
        min-height: 0;
        width: 45px;
        height: 45px;
        padding-top: 0;
        border: none;
        display: block;
        line-height: 45px;
        color: @chapter-number-color;
        position: absolute;
        text-align: center;
      }

      &::after {
        //#part>#chapter>#title>.icon();
        content: '';
        display: block;
        width: 170px;
        height: 73px;
        position: absolute;
        bottom: -8px;
        left: 0;
        right: 0;
        transform: translate3d(-1in, 0, 0);
        background: url("ccap-business/business-books-intro-graphic.svg") 0 0 no-repeat;
        z-index: 2;
      }

      span.cnx-gentext-autogenerated,
      span.cnx-gentext-n {
        display: none;
      }

      span.cnx-gentext-t {
        &::before {
          display: none;
        }
      }

      span.cnx-gentext-t {
        //#part>#chapter>#title>.text();
        position: absolute;
        bottom: -10px;
        left: 80px;
        width: 60%;
        height: 70px;
        white-space: normal;

        &::before {
          //#part>#chapter>#title>.divider();
        }
      }
    }

    div,
    div div {
      height: inherit;
    }
  }
}
